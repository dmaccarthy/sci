<!DOCTYPE html>
<html lang="en-ca">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SVG</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic,700italic" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700"/>
<link rel="stylesheet" type="text/css" href="./style/svg2.css"/>
<script type="text/javascript" src="./src/math.js"></script>
<script type="text/javascript" src="./src/util.js"></script>
<script type="text/javascript" src="./src/svg2.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<style type="text/css">

</style>
<script type="text/javascript">

let svg;

$(() => {
    svg = new SVG2("#S1", {size: [640, 360], lrbt: [0, 10, 0], margin: 6});
    svg.$.addClass("SVG2");
    svg.grid([0, 10, 1], [0, 6, 1]);

    let g = svg.group().config({vel: [0, -0.1], omega: 0, pivot: [4, 3]});
    g.circle("10", [8, 3]).css({fill: "red"});

    // let ge = g.group().config({omega: 20, shift: [4, 3], pivot: [-1, 0]});
    // ge.arrow(2, {double: 1, tail: "8", head: "28"}).css({fill: "red"});

    let ge = g.arrow_group(2, [3, 1], null, {double: 1, tail: "8", head: "28"});
    ge.config({omega: 15}).$.children().css({fill: "#0065fe80"});


    g.beforeupdate = (g) => {
        // console.log(g.theta);
        if (g.svg.frameCount % 60 == 0) {
            let c = g.$.children("*");
            for (let i=0;i<2;i++)
                $(c[i]).css({fill: randomColor()});
        }
    }

    svg.animate(g, ge);

    svg.$.on("click", () => svg.toggle());
});

</script>
</head>
<body>
<p><svg id="S1"></svg></p>
</body>
</html>
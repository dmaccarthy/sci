<section class="Post NoPrintIcon" data-icon="html5">
<h2 class="Collapse">Math to SVG</h2><div class="Center Collapse Expand">
<p><textarea name="Input" style="width:80%; height:6em">\large \color{red} C = 2\pi r</textarea></p>
<p style="display:none"><button onclick="loadFeed.render()">Render</button></p>
<div style="display:none">
    <p>SVG image is displayed at double its nominal size!</p>
    <p id="LaTeX_IMG" style="margin-top:2em"></p>    
</div>
</div></section>

<script type="text/javascript" data-init="init">

loadFeed.render = () => {
    SVG2.latex($("textarea").val()).then(svg => {
        let src = "data:image/svg+xml," + encodeURIComponent($(svg)[0].outerHTML);
        let img = $("<img>");
        img[0].onload = function() {
            let img = $(this);
            let [w, h] = [img.width(), img.height()];
            img.css({width: `${2*w}px`, height: `${2*h}px`});
        };
        $("#LaTeX_IMG").html(img.attr({src: src, title: "Right-click to save"}));
        $("div:hidden").show();
        navigator.clipboard.writeText(svg);
        msg("SVG copied to clipboard", 1);
    });
}

loadFeed.init = () => {
    mjWait().then(() => {$("p:hidden").show()});
}

loadFeed.data = {
    title: `MathJax Renderer`,
}
    
</script>

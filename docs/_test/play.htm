<section class="Post NoPrintIcon"><h2>Local Time</h2>
<p class="Center"><svg id="Draw"></svg></p>
</section>

<script type="text/javascript" data-init="graph">


function wave(x, t, args) {
    return args.A * Math.sin(twoPi / args.wavelength * (x - args.v * t));
}

loadFeed.x1 = () => {
    let svg = new SVG2("#Draw", {lrbt: [-2, 10, -2, 10], margin: 2, grid: 1, scale: [24, 18]});
    let g = svg.locus(wave, [0, 10], {A: 3, v: 1, wavelength: 5});
    g.locus(wave, [0, 10], {A:1, v:2, wavelength:10}).css("red@1").config({animated: true});
    g.css("none", "#0065fe@2").config({animated: true, theta: 20});
    g.circle("15");
    g.draw_bbox().css("red");
    svg.play();
}

loadFeed.graph = () => {
    // Create graph and set text style
    svg = new SVG2("#Draw", {lrbt: [0, 10, 0, 10], margin: 56, grid: 1, scale: 32}).clip_rect();
    let g = svg.group("sans", 18);

    // Tick marks and labels
    let opt = {size: ["-6", "6"], label: 0, shift: "-8", css: 15};
    g.ticks({x: [0, 10.1, 1], ...opt, label: (x) => {
        return "JFMAMJJASOND".charAt(x);
    }}); //.shift_by([0.5, 0]);
    g.ticks({y: [0, 10.1, 1], ...opt, skip: 3});

    // Titles
    g.text("Time / s", [5, "-36"]);
    g.text("Position / m", ["-36", 5], 90);
    // g.mjax("\\rm Position\\ /\\ m", {scale: 0.6}, ["-36", 5], "magneta", 90);

    // Plot an equation (locus) inside the clipping region
    let clip = g.group().clip("lrbt");
    clip.locus(x => x*x/8, [0, 10]).css("none", "#0065fe@3");

    let mark = g => g.stickman("12").align([0, 0]).css("black@1");

    // Plot data points as images, circle, or crosses
    g.plot([[0, 8], [2, 6], [4, 4], [6, 2]], ["12", "12"], "media/ball.svg");
    // g.plot({x: [1, 2, 3], y: [1, 4, 9]}, ["12", "12"], null, 45).css("none", "#0065fe@1");
    g.plot({x: [1, 2, 3, 0], y: [1, 4, 9, 0]}, g => g.plusminus("12", 1, 0.2), null, 45).css("red", "black@1");

    // css(svg.circle(1, [6, 6, "t"]), "blue");

}

loadFeed.ucm = async() => {
    let svg = new SVG2("#Draw", {lrbt: [-8, 8, -12, 1], margin: 2, grid: 0, scale: 24});
    let rx = 0.6;

    // Grey lines
    let g = svg.group("grey@1");
    g.line([-8, -1], [8, -1]);
    g.line([2.5, -4], [0.3, -3.6]);

    // Apparatus
    let all = svg.group("black@1");
    let rope = all.group("none", "@2");
    let c = new RArray(7, -1), r = new RArray(0, -10);
    g = all.cylinder([rx, 0.2], 3).css("lightgrey");
    css(g.$.find("ellipse"), "grey");

    // Rope
    rope.line(r, [0, 0]);
    rope.line(c, [rx, 0.1]);
    css(svg.line([rx, 0.1], [rx/4, -0.18]), "black@2");

    // Masses & Tape
    css(all.circle(0.5, c), "black@1", "#0065fe");
    css(all.rect([1.5, 3], r), "magenta");
    css(svg.rect(["4", 0.5], [0, -3.5]), "none", "tan");

    // Labels
    g = svg.group("sans");
    g.gtext("Plane of Motion", [], [-5, -1, 0.5, 1]);
    g.gtext("Tube", [], [-1.2, -3, 1, 0.5]);
    g.gtext("String", [], [-0.3, -6.5, 1, 0.5]);
    g.gtext("Tape Mark", [], [3, -4, 0, 0.5]);

    // Symbols
    let p = [];
    p.push(svg.mjax("r", null, [3.5, -1.6]));
    p.push(svg.mjax("m", null, c.plus([0, 1.2]), "#0065fe"));
    p.push(svg.mjax("M", null, r.plus([1.7, 0]), "magenta"));

    // Save
    // for (let i=0;i<p.length;i++) await p[i];
    // svg.save_image("ucm.png", 3);
}

loadFeed.svg = () => {
    let r = 0.2;
    let w = 0.28;
    let x = r + 1;
    let svg = new SVG2("#Logo", {lrbt: [-x, x, -x, x], margin: 4, scale: 160});
    let g = svg.group("#ffb758", "none@");
    for (let i=0;i<4;i++) {
        let a = 45 * i;
        g.group().config({theta: a}).rect([w, 2]);
        let p1 = vec2d(1, a);
        g.circle(r, p1.neg());
        g.circle(r, p1);
    }
    // svg.save("svg_logo.svg");
}

loadFeed.data = {title: "Logo", up: "home"}

</script>

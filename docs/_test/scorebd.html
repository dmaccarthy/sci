<!DOCTYPE html>
<html lang="en-ca">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scoreboard</title>
<style>

img.Logo {
    width: 2em;
    height: 2em;
}

table {
    width: 98%;
    margin: auto;
    text-align: center;
    font-family: sans-serif;
    font-size: 6vw;
}

td {
    width: 33%;
}

.Small {
    font-size: 60%;
}

.Large {
    font-size: 175%;
}

</style>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script type="text/javascript">

function timer(mode) {
    clearTimeout(timer.timeout);
    let t = new Date();
    if (timer.update) timer.time -= (t - timer.update) / 1000;
    let s = timer.time % 60;
    let m = (timer.time - s) / 60;
    $("#Timer").html(`${m.toFixed(0)}:${s.toFixed(1).padStart(4, '0')}`);
    timer.update = t;
    if (mode == null) mode = timer.paused ? 0 : 1;
    if (mode == 0) {
        timer.paused = false;
        timer.timeout = setTimeout(() => timer(0), 20);
    }
    else if (mode == 1) {
        timer.paused = true;
        delete timer.update;
    }
}

timer.time = 20 * 60;

function clickTimer(ev) {
    if (ev.ctrlKey) {
        timer(1);
        let [m, s] = prompt("Set time in min:sec").split(":");
        s = s == null ? 0 : parseFloat(s);
        s += 60 * parseInt(m);
        if (!isNaN(s)) {
            timer.time = s;
            timer(1);
        }
    }
    else timer();
}

$(() => {
    timer(1);
});

</script>
</head>
<body>
<table>
    <tr><td colspan="2">Salisbury</td><td colspan="2">&nbsp;</td><td colspan="2">Bev Facey</td></tr>
    <tr><td colspan="2"><img class="Logo" src="../media/rocket.svg" alt="Home Logo"/></td><td id="Timer" onclick="clickTimer(event)" colspan="2"></td><td colspan="2"><img class="Logo" src="../media/rocket.svg" alt="Away Logo"/></td></tr>
    <tr><td colspan="2" class="Large">0</td><td colspan="2"><span class="Small">Period</span><br/>2</td><td colspan="2" class="Large">0</td></tr>
    <!-- <tr><td></td><td></td><td></td><td></td><td></td><td></td></tr> -->
</table>
</body>
</html>
